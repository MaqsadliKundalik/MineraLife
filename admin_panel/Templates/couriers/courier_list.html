{% extends "base.html" %}
{% block title %}Kurerlar{% endblock %}
{% block content %}
<div class="mb-6 flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3">
  <div>
    <h1 class="text-3xl font-bold text-gray-900 dark:text-white">Kurerlar</h1>
    <p class="text-gray-600 dark:text-gray-400 mt-1">Login/Parol bilan ro‘yxat</p>
  </div>
  <a href="{% url 'couriers:create' %}" class="px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition">+ Yangi kurer</a>
</div>

{% if couriers %}
<div class="grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-4">
  {% for u in couriers %}
  <div class="bg-white dark:bg-gray-800 rounded-xl shadow p-4">
    <div class="flex items-center justify-between">
      <div class="text-lg font-semibold text-gray-900 dark:text-gray-100">{{ u.username }}</div>
      <span class="px-2 py-1 rounded text-xs {{ u.is_active|yesno:'bg-green-100 text-green-800,bg-red-100 text-red-800' }}">
        {{ u.is_active|yesno:"Faol,Nofaol" }}
      </span>
    </div>
    <div class="mt-1 text-sm text-gray-600 dark:text-gray-300">Oxirgi kirish: {{ u.last_login|date:"Y-m-d H:i"|default:"—" }}</div>
    <div class="mt-3 flex gap-2 justify-end">
      <a href="{% url 'couriers:detail' u.pk %}" class="px-3 py-1 rounded-md bg-gray-100 dark:bg-gray-700 text-gray-800 dark:text-gray-100 hover:bg-gray-200 dark:hover:bg-gray-600 text-sm">Ko‘rish</a>
      <a href="{% url 'couriers:update' u.pk %}" class="px-3 py-1 rounded-md bg-blue-600 text-white hover:bg-blue-700 text-sm">Faollik</a>
      <a href="{% url 'couriers:password' u.pk %}" class="px-3 py-1 rounded-md bg-indigo-600 text-white hover:bg-indigo-700 text-sm">Parol</a>
      <a href="{% url 'couriers:delete' u.pk %}" class="px-3 py-1 rounded-md bg-red-600 text-white hover:bg-red-700 text-sm">O‘chirish</a>
    </div>
  </div>
  {% endfor %}
</div>

{% if page_obj %}
<div class="mt-6 flex items-center justify-center gap-2">
  {% if page_obj.has_previous %}
    <a href="?page={{ page_obj.previous_page_number }}" class="px-3 py-1 rounded-md bg-gray-100 dark:bg-gray-700 hover:bg-gray-200 dark:hover:bg-gray-600">Oldingi</a>
  {% else %}
    <span class="px-3 py-1 rounded-md bg-gray-100/60 dark:bg-gray-700/60 text-gray-400">Oldingi</span>
  {% endif %}
  <span class="px-3 py-1 text-sm text-gray-700 dark:text-gray-300">{{ page_obj.number }} / {{ page_obj.paginator.num_pages }}</span>
  {% if page_obj.has_next %}
    <a href="?page={{ page_obj.next_page_number }}" class="px-3 py-1 rounded-md bg-gray-100 dark:bg-gray-700 hover:bg-gray-200 dark:hover:bg-gray-600">Keyingi</a>
  {% else %}
    <span class="px-3 py-1 rounded-md bg-gray-100/60 dark:bg-gray-700/60 text-gray-400">Keyingi</span>
  {% endif %}
</div>
{% endif %}

{% else %}
<div class="flex flex-col items-center justify-center py-16">
  <svg class="w-20 h-20 text-gray-400 dark:text-gray-600 mb-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
    <path d="M12 6v6l4 2" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
  </svg>
  <h2 class="text-xl font-semibold text-gray-800 dark:text-gray-200">Hozircha kurerlar yo‘q</h2>
  <p class="text-gray-500 dark:text-gray-400 mt-2 text-center max-w-md">Yangi kurer login/parolini yarating.</p>
  <a href="{% url 'couriers:create' %}" class="mt-6 px-5 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition">+ Yangi kurer</a>
</div>
{% endif %}
{% endblock %}
